# JAiRouter

JAiRouter æ˜¯ä¸€ä¸ªåŸºäº Spring Boot çš„ AI æ¨¡å‹æœåŠ¡è·¯ç”±å’Œè´Ÿè½½å‡è¡¡ç½‘å…³ï¼Œä¸ºå„ç§ AI æ¨¡å‹æœåŠ¡æä¾›ç»Ÿä¸€çš„è®¿é—®æ¥å£å’Œæ™ºèƒ½è·¯ç”±åŠŸèƒ½ã€‚

## é¡¹ç›®æ¦‚è¿°

JAiRouter æ—¨åœ¨è§£å†³ AI æ¨¡å‹æœåŠ¡ç®¡ç†ä¸­çš„å¤æ‚æ€§é—®é¢˜ï¼Œé€šè¿‡ç»Ÿä¸€çš„ OpenAI å…¼å®¹ API æ¥å£ï¼Œä¸ºå¼€å‘è€…æä¾›ï¼š

- **ç»Ÿä¸€è®¿é—®å…¥å£**ï¼šé€šè¿‡æ ‡å‡†çš„ `/v1/*` æ¥å£è®¿é—®ä¸åŒçš„ AI æ¨¡å‹æœåŠ¡
- **æ™ºèƒ½è´Ÿè½½å‡è¡¡**ï¼šæ”¯æŒå¤šç§è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œç¡®ä¿æœåŠ¡çš„é«˜å¯ç”¨æ€§
- **æµé‡æ§åˆ¶**ï¼šå†…ç½®é™æµã€ç†”æ–­æœºåˆ¶ï¼Œä¿æŠ¤åç«¯æœåŠ¡ç¨³å®šè¿è¡Œ
- **åŠ¨æ€é…ç½®**ï¼šæ”¯æŒè¿è¡Œæ—¶é…ç½®æ›´æ–°ï¼Œæ— éœ€é‡å¯æœåŠ¡
- **å¤šåç«¯é€‚é…**ï¼šæ”¯æŒ GPUStackã€Ollamaã€VLLM ç­‰å¤šç§ AI æœåŠ¡åç«¯

## æ ¸å¿ƒç‰¹æ€§

### ğŸš€ ç»Ÿä¸€ API ç½‘å…³
- æä¾› OpenAI å…¼å®¹çš„ REST API æ¥å£
- æ”¯æŒ Chatã€Embeddingã€Rerankã€TTSã€STTã€Image Generation ç­‰æœåŠ¡ç±»å‹
- ç»Ÿä¸€çš„è¯·æ±‚å“åº”æ ¼å¼ï¼Œç®€åŒ–å®¢æˆ·ç«¯é›†æˆ

### âš–ï¸ æ™ºèƒ½è´Ÿè½½å‡è¡¡
- **Random**ï¼šéšæœºé€‰æ‹©å¯ç”¨å®ä¾‹
- **Round Robin**ï¼šè½®è¯¢åˆ†é…è¯·æ±‚
- **Least Connections**ï¼šé€‰æ‹©è¿æ¥æ•°æœ€å°‘çš„å®ä¾‹
- **IP Hash**ï¼šåŸºäºå®¢æˆ·ç«¯ IP çš„ä¸€è‡´æ€§å“ˆå¸Œ

### ğŸ›¡ï¸ æµé‡ä¿æŠ¤æœºåˆ¶
- **é™æµç®—æ³•**ï¼šToken Bucketã€Leaky Bucketã€Sliding Windowã€Warm Up
- **ç†”æ–­ä¿æŠ¤**ï¼šè‡ªåŠ¨æ£€æµ‹æœåŠ¡æ•…éšœï¼Œå®æ–½ç†”æ–­å’Œæ¢å¤ç­–ç•¥
- **é™çº§ç­–ç•¥**ï¼šæä¾›é»˜è®¤å“åº”å’Œç¼“å­˜æœºåˆ¶

### ğŸ”§ è¿ç»´å‹å¥½
- **å¥åº·æ£€æŸ¥**ï¼šè‡ªåŠ¨ç›‘æ§æœåŠ¡å®ä¾‹çŠ¶æ€ï¼Œå‰”é™¤ä¸å¯ç”¨èŠ‚ç‚¹
- **åŠ¨æ€é…ç½®**ï¼šæ”¯æŒè¿è¡Œæ—¶æ›´æ–°æœåŠ¡é…ç½®ï¼Œæ— éœ€é‡å¯
- **é…ç½®æŒä¹…åŒ–**ï¼šæ”¯æŒå†…å­˜å’Œæ–‡ä»¶ä¸¤ç§å­˜å‚¨æ–¹å¼
- **ç›‘æ§é›†æˆ**ï¼šå†…ç½® Prometheus æŒ‡æ ‡ï¼Œæ”¯æŒ Grafana å¯è§†åŒ–

### ğŸ”Œ å¤šåç«¯æ”¯æŒ
æ”¯æŒä¸»æµ AI æœåŠ¡åç«¯ï¼š
- **GPUStack**ï¼šGPU é›†ç¾¤ç®¡ç†å¹³å°
- **Ollama**ï¼šæœ¬åœ°å¤§è¯­è¨€æ¨¡å‹è¿è¡Œç¯å¢ƒ
- **VLLM**ï¼šé«˜æ€§èƒ½æ¨ç†å¼•æ“
- **Xinference**ï¼šæ¨¡å‹æ¨ç†æœåŠ¡æ¡†æ¶
- **LocalAI**ï¼šæœ¬åœ° AI æœåŠ¡
- **OpenAI**ï¼šå®˜æ–¹ OpenAI API

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- **JDK**: 17 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Maven**: 3.6+ ï¼ˆæ¨èä½¿ç”¨é¡¹ç›®å†…ç½®çš„ Maven Wrapperï¼‰
- **Docker**: å¯é€‰ï¼Œç”¨äºå®¹å™¨åŒ–éƒ¨ç½²

### å¿«é€Ÿå¯åŠ¨

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/Lincoln-cn/JAiRouter.git
   cd jairouter
   ```

2. **æ„å»ºé¡¹ç›®**
   ```bash
   # ä½¿ç”¨ Maven Wrapperï¼ˆæ¨èï¼‰
   ./mvnw clean package
   
   # æˆ–ä½¿ç”¨ç³»ç»Ÿ Maven
   mvn clean package
   ```

3. **å¯åŠ¨æœåŠ¡**
   ```bash
   java -jar target/model-router-*.jar
   ```

4. **éªŒè¯éƒ¨ç½²**
   è®¿é—® [http://localhost:8080/swagger-ui/index.html](http://localhost:8080/swagger-ui/index.html) æŸ¥çœ‹ API æ–‡æ¡£

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t jairouter/model-router:latest .

# å¯åŠ¨å®¹å™¨
docker run -d \
  --name jairouter \
  -p 8080:8080 \
  -v ./config:/app/config:ro \
  jairouter/model-router:latest
```

## æ¶æ„æ¦‚è§ˆ

```mermaid
graph TB
    subgraph "å®¢æˆ·ç«¯"
        A[Webåº”ç”¨] --> D[JAiRouterç½‘å…³]
        B[ç§»åŠ¨åº”ç”¨] --> D
        C[APIå®¢æˆ·ç«¯] --> D
    end
    
    subgraph "JAiRouteræ ¸å¿ƒ"
        D --> E[è´Ÿè½½å‡è¡¡å™¨]
        E --> F[é™æµå™¨]
        F --> G[ç†”æ–­å™¨]
        G --> H[é€‚é…å™¨å±‚]
    end
    
    subgraph "AIæœåŠ¡åç«¯"
        H --> I[GPUStack]
        H --> J[Ollama]
        H --> K[VLLM]
        H --> L[OpenAI]
    end
    
    subgraph "ç›‘æ§ä¸é…ç½®"
        M[é…ç½®ç®¡ç†] --> D
        N[å¥åº·æ£€æŸ¥] --> D
        O[ç›‘æ§æŒ‡æ ‡] --> D
    end
```

## ä½¿ç”¨åœºæ™¯

### ä¼ä¸š AI æœåŠ¡ç»Ÿä¸€ç®¡ç†
- ç»Ÿä¸€ç®¡ç†å¤šä¸ª AI æ¨¡å‹æœåŠ¡æä¾›å•†
- å®ç°æœåŠ¡çš„é«˜å¯ç”¨å’Œè´Ÿè½½å‡è¡¡
- æä¾›ç»Ÿä¸€çš„è®¿é—®æ¥å£å’Œè®¤è¯æœºåˆ¶

### å¼€å‘ç¯å¢ƒæœåŠ¡ä»£ç†
- ä¸ºå¼€å‘å›¢é˜Ÿæä¾›ç»Ÿä¸€çš„ AI æœåŠ¡è®¿é—®å…¥å£
- æ”¯æŒä¸åŒç¯å¢ƒçš„é…ç½®éš”ç¦»
- ç®€åŒ–å®¢æˆ·ç«¯é›†æˆå’Œæµ‹è¯•

### ç”Ÿäº§ç¯å¢ƒæµé‡æ²»ç†
- å®ç° AI æœåŠ¡çš„æµé‡æ§åˆ¶å’Œä¿æŠ¤
- æä¾›æœåŠ¡é™çº§å’Œå®¹é”™æœºåˆ¶
- æ”¯æŒç°åº¦å‘å¸ƒå’Œ A/B æµ‹è¯•

## æ–‡æ¡£å¯¼èˆª

- **[å¿«é€Ÿå¼€å§‹](getting-started/index.md)** - å®‰è£…ã€é…ç½®å’Œç¬¬ä¸€æ­¥æŒ‡å—
- **[é…ç½®æŒ‡å—](configuration/index.md)** - è¯¦ç»†çš„é…ç½®è¯´æ˜å’Œç¤ºä¾‹
- **[API å‚è€ƒ](api-reference/index.md)** - å®Œæ•´çš„ API æ–‡æ¡£
- **[éƒ¨ç½²æŒ‡å—](deployment/index.md)** - Dockerã€Kubernetes éƒ¨ç½²æ–¹æ¡ˆ
- **[ç›‘æ§æŒ‡å—](monitoring/index.md)** - ç›‘æ§é…ç½®å’Œä½¿ç”¨è¯´æ˜
- **[å¼€å‘æŒ‡å—](en/development/index.md)** - æ¶æ„è¯´æ˜å’Œè´¡çŒ®æŒ‡å—
- **[æ•…éšœæ’æŸ¥](en/troubleshooting/index.md)** - å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
- **[å‚è€ƒèµ„æ–™](en/reference/index.md)** - æ›´æ–°æ—¥å¿—ã€FAQ ç­‰

## ç¤¾åŒºä¸æ”¯æŒ

- **GitHub**: [https://github.com/Lincoln-cn/JAiRouter](https://github.com/Lincoln-cn/JAiRouter)
- **æ–‡æ¡£**: [https://your-org.github.io/jairouter](https://your-org.github.io/jairouter)
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/Lincoln-cn/JAiRouter/issues)
- **DeepWiki**: [https://deepwiki.com/Lincoln-cn/JAiRouter](https://deepwiki.com/Lincoln-cn/JAiRouter)

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](https://github.com/Lincoln-cn/JAiRouter/blob/main/LICENSE)ã€‚